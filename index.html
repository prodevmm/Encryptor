<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Encryptor</title>

    <link href="https://cdn.jsdelivr.net/npm/beercss@3.2.13/dist/cdn/beer.min.css" rel="stylesheet">
    <script type="module" src="https://cdn.jsdelivr.net/npm/beercss@3.2.13/dist/cdn/beer.min.js"></script>

</head>

<body>

<header class="fixed fill elevate">
    <nav>
        <h5 class="max center-align">Encryptor</h5>
        <button class="circle transparent" onclick="encryptCode()">
            <i>play_arrow</i>
        </button>
    </nav>
</header>

<main class="padding">

    <div class="field label border">
        <input id="password" type="text">
        <label for="password">Password</label>
    </div>

    <div class="field textarea label border medium-height">
        <textarea id="json"></textarea>
        <label for="json">JSON</label>
    </div>

</main>

<dialog id="result" class="max">
    <h5>Result</h5>
    <div class="field textarea label border medium-height">
        <textarea aria-label="code" id="code"></textarea>
        <label for="code">Password</label>
    </div>
    <nav class="right-align">
        <button class="border" data-ui="#result">OK</button>
    </nav>
</dialog>


<script src="https://cdn.jsdelivr.net/gh/mervick/aes-everywhere@master/javascript/dist/aes256.min.js"></script>
<script type="text/javascript">

    const dialog = document.getElementById('result');

    const encryptCode = () => {
        let password = document.getElementById('password').value
        let json = document.getElementById('json').value

        if (password === '' || json === '') {
            alert('Please fill all fields.')
        } else {
            document.getElementById('code').value = AES256.encrypt(json, password)
            dialog.show()
        }
    }

</script>
</body>
</html>